{"ast":null,"code":"var _jsxFileName = \"/home/andre/baraxolka/src/main/content/index/tiserList.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport goods from '../../../db/goods';\nimport Tiser from './tiser';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst TiserList = _ref => {\n  _s();\n\n  let {\n    category,\n    search,\n    isFavorites,\n    condition,\n    typeCooler,\n    socket,\n    core,\n    cpuFrequency,\n    fsbVar,\n    tdp,\n    ramType,\n    ramSize,\n    ramFraq,\n    videoInterface,\n    hddInterface,\n    platform,\n    videoBitrate\n  } = _ref;\n  const [favorites, setFavorites] = useState(JSON.parse(localStorage.getItem('favorites')));\n  const [cart, setCart] = useState(JSON.parse(localStorage.getItem('cart')));\n  let goodList = goods.filter(good => good['Количество'] !== '0');\n  goodList = category ? goodList.filter(good => good['Артикул'][0] === category) : goodList;\n  goodList = search ? goodList.filter(good => good['Название'] && good['Название'].toLowerCase().includes(search.toLowerCase()) || good['Бренд'] && good['Бренд'].toLocaleLowerCase().includes(search.toLocaleLowerCase())) : goodList;\n  goodList = isFavorites ? goodList.filter(good => favorites.includes(good['Артикул'])) : goodList;\n  goodList = condition !== 'Любое' ? goodList.filter(good => good['Состояние'] === condition) : goodList;\n\n  if (category === '6') {\n    if (typeCooler === 'Процессорный') {\n      goodList = goodList.filter(good => good['Сокет']);\n    } else if (typeCooler === 'Корпусной') {\n      goodList = goodList.filter(good => !good['Сокет']);\n    }\n  }\n\n  if (['0', '1', '6', '7', '8'].includes(category)) {\n    goodList = socket !== 'Все' ? goodList.filter(good => isHasSocket(good)) : goodList;\n  }\n\n  if (category === '0') {\n    goodList = core !== 'Все' ? goodList.filter(good => good['Ядер/потоков'].split('/')[0] === core) : goodList;\n    goodList = cpuFrequency !== 'Все' ? goodList.filter(good => isHasFrequency(good)) : goodList;\n    goodList = tdp !== 'Все' ? goodList.filter(good => Number(good['Мощность тепловыделения']) === tdp) : goodList;\n  }\n\n  if (['0', '1'].includes(category)) {\n    goodList = fsbVar !== 'Все' ? goodList.filter(good => isHasFSB(good)) : goodList;\n  }\n\n  if (category === '2') {\n    goodList = platform !== 'Все' ? goodList.filter(good => good['Платформа'] === platform) : goodList;\n  }\n\n  if (['1', '2', '3'].includes(category)) {\n    goodList = ramType !== 'Все' ? goodList.filter(good => good['Тип ОЗУ'] === ramType) : goodList;\n    goodList = ramSize !== 'Все' ? goodList.filter(good => isHasRAMSize(good)) : goodList;\n  }\n\n  if (['1', '2'].includes(category)) {\n    goodList = ramFraq !== 'Все' ? goodList.filter(good => isHasRAMFraq(good)) : goodList;\n  }\n\n  if (['1', '3'].includes(category)) {\n    goodList = videoInterface !== 'Все' ? goodList.filter(good => good['Тип видео-интерфейса'] === videoInterface) : goodList;\n  }\n\n  if (category === '1') {\n    goodList = hddInterface !== 'Все' ? goodList.filter(good => isHasHDDInterface(good)) : goodList;\n  }\n\n  if (category === '3') {\n    goodList = videoBitrate !== 'Все' ? goodList.filter(good => good['Разрядность шины'] === videoBitrate) : goodList;\n  }\n\n  return goodList.length !== 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: goodList.map(good => /*#__PURE__*/_jsxDEV(Tiser, {\n      data: good,\n      favorites: favorites,\n      onFavorites: toggleFavorites,\n      cart: cart,\n      onCart: toggleCart\n    }, good['Артикул'], false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 35\n    }, this))\n  }, void 0, false) : /*#__PURE__*/_jsxDEV(\"h2\", {\n    className: \"not_found\",\n    children: \"\\u041D\\u0438\\u0447\\u0435\\u0433\\u043E \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\\u043E. \\u041F\\u043E\\u043F\\u0440\\u043E\\u0431\\u0443\\u0439\\u0442\\u0435 \\u0438\\u0437\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C \\u0443\\u0441\\u043B\\u043E\\u0432\\u0438\\u044F \\u0444\\u0438\\u043B\\u044C\\u0442\\u0440\\u0430\\u0446\\u0438\\u0438\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 11\n  }, this);\n\n  function toggleFavorites(artcl) {\n    let newFavorites = [];\n\n    if (favorites.includes(artcl)) {\n      newFavorites = favorites.filter(goodArticle => goodArticle !== artcl);\n    } else {\n      newFavorites = [...favorites, artcl];\n    }\n\n    localStorage.setItem('favorites', JSON.stringify(newFavorites));\n    setFavorites(newFavorites);\n  }\n\n  function toggleCart(artcl) {\n    let newCart = [];\n\n    if (cart.includes(artcl)) {\n      newCart = cart.filter(goodArticle => goodArticle !== artcl);\n    } else {\n      newCart = [...cart, artcl];\n    }\n\n    localStorage.setItem('cart', JSON.stringify(newCart));\n    setCart(newCart);\n  }\n\n  function isHasSocket(good) {\n    if (category !== '6') {\n      return good['Сокет'] === socket;\n    } else {\n      if (good['Сокет']) {\n        if (good['Сокет'].includes(',')) {\n          let arrSockets = good['Сокет'].split(',');\n          arrSockets = arrSockets.map(item => item.trim());\n          return arrSockets.includes(socket);\n        } else {\n          return good['Сокет'] === socket;\n        }\n      }\n    }\n  }\n\n  function isHasFrequency(good) {\n    const freq = Number(good['Частота ядра']);\n\n    switch (cpuFrequency) {\n      case 'Ниже 2 ГГц':\n        return freq < 2;\n\n      case '2-2.4 ГГц':\n        return freq >= 2 && freq < 2.5;\n\n      case '2.5-2.9 ГГЦ':\n        return freq >= 2.5 && freq < 3;\n\n      case 'От 3 ГГЦ и выше':\n        return freq >= 3;\n\n      default:\n        break;\n    }\n  }\n\n  function isHasFSB(good) {\n    if (good['Частота системной шины'].includes('/')) {\n      return good['Частота системной шины'].split('/').includes(fsbVar);\n    } else {\n      return good['Частота системной шины'] === fsbVar;\n    }\n  }\n\n  function isHasRAMSize(good) {\n    if (good['Объем ОЗУ'].includes('x')) {\n      const size = good['Объем ОЗУ'][0] + ' x ' + good['Объем ОЗУ'][2] + ' ГБ';\n      return size === ramSize;\n    } else {\n      return good['Объем ОЗУ'] === ramSize;\n    }\n  }\n\n  function isHasRAMFraq(good) {\n    if (good['Частота ОЗУ'].includes('/')) {\n      return good['Частота ОЗУ'].split('/').includes(ramFraq);\n    } else {\n      return good['Частота ОЗУ'] === ramFraq;\n    }\n  }\n\n  function isHasHDDInterface(good) {\n    if (good['Тип HDD-интерфейса'].includes('/')) {\n      return good['Тип HDD-интерфейса'].split('/').includes(hddInterface);\n    } else {\n      return good['Тип HDD-интерфейса'] === hddInterface;\n    }\n  }\n};\n\n_s(TiserList, \"lMdFmASRrIR8wVIgzf60TjiSGxM=\");\n\n_c = TiserList;\nexport default TiserList;\n\nvar _c;\n\n$RefreshReg$(_c, \"TiserList\");","map":{"version":3,"sources":["/home/andre/baraxolka/src/main/content/index/tiserList.jsx"],"names":["React","useState","goods","Tiser","TiserList","category","search","isFavorites","condition","typeCooler","socket","core","cpuFrequency","fsbVar","tdp","ramType","ramSize","ramFraq","videoInterface","hddInterface","platform","videoBitrate","favorites","setFavorites","JSON","parse","localStorage","getItem","cart","setCart","goodList","filter","good","toLowerCase","includes","toLocaleLowerCase","isHasSocket","split","isHasFrequency","Number","isHasFSB","isHasRAMSize","isHasRAMFraq","isHasHDDInterface","length","map","toggleFavorites","toggleCart","artcl","newFavorites","goodArticle","setItem","stringify","newCart","arrSockets","item","trim","freq","size"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport goods from '../../../db/goods'\nimport Tiser from './tiser'\n\n\nconst TiserList =({ category, search, isFavorites, condition, typeCooler, socket, core, cpuFrequency, fsbVar, tdp, ramType, ramSize, ramFraq, videoInterface, hddInterface, platform, videoBitrate }) => {\n    const [favorites, setFavorites] = useState(JSON.parse(localStorage.getItem('favorites')))\n    const [cart, setCart] = useState(JSON.parse(localStorage.getItem('cart')))\n\n    let goodList = goods.filter(good => good['Количество'] !== '0')\n\n    goodList = category ? goodList.filter(good => good['Артикул'][0] === category) : goodList\n    \n    goodList = search\n        ? goodList.filter(good => (good['Название'] && good['Название'].toLowerCase().includes(search.toLowerCase()))\n            || (good['Бренд'] && good['Бренд'].toLocaleLowerCase().includes(search.toLocaleLowerCase())))\n        : goodList\n\n    goodList = isFavorites ? goodList.filter(good => favorites.includes(good['Артикул'])) : goodList\n\n    goodList = condition !== 'Любое' ? goodList.filter(good => good['Состояние'] === condition) : goodList\n\n    if(category === '6') {\n        if(typeCooler === 'Процессорный') {\n            goodList = goodList.filter(good => good['Сокет'])\n        }\n        else if(typeCooler === 'Корпусной') {\n            goodList = goodList.filter(good => !good['Сокет'])\n        }\n    }\n\n    if(['0', '1', '6', '7', '8'].includes(category)) {\n        goodList = socket !== 'Все' ? goodList.filter(good => isHasSocket(good)) : goodList\n    }\n\n    if(category === '0') {\n        goodList = core !== 'Все' ? goodList.filter(good => good['Ядер/потоков'].split('/')[0] === core) : goodList\n        goodList = cpuFrequency !== 'Все' ? goodList.filter(good => isHasFrequency(good)) : goodList\n        goodList = tdp !== 'Все' ? goodList.filter(good => Number(good['Мощность тепловыделения']) === tdp) : goodList\n    }\n\n    if(['0', '1'].includes(category)) {\n        goodList = fsbVar !== 'Все' ? goodList.filter(good => isHasFSB(good)) : goodList\n    }\n\n    if(category === '2') {\n        goodList = platform !== 'Все' ? goodList.filter(good => good['Платформа'] === platform) : goodList\n    }\n\n    if(['1', '2', '3'].includes(category)) {\n        goodList = ramType !== 'Все' ? goodList.filter(good => good['Тип ОЗУ'] === ramType) : goodList\n        goodList = ramSize !== 'Все' ? goodList.filter(good => isHasRAMSize(good)) : goodList\n    }\n\n    if(['1', '2'].includes(category)) {\n        goodList = ramFraq !== 'Все' ? goodList.filter(good => isHasRAMFraq(good)) : goodList\n    }\n\n    if(['1', '3'].includes(category)) {\n        goodList = videoInterface !== 'Все' ? goodList.filter(good => good['Тип видео-интерфейса'] === videoInterface) : goodList\n    }\n\n    if(category === '1') {\n        goodList = hddInterface !== 'Все' ? goodList.filter(good => isHasHDDInterface(good)) : goodList\n    }\n\n    if(category === '3') {\n        goodList = videoBitrate !== 'Все' ? goodList.filter(good => good['Разрядность шины'] === videoBitrate) : goodList\n    }\n\n\n    return goodList.length !== 0\n        ? <>\n            {goodList.map(good => <Tiser data={good}\n                favorites={favorites} onFavorites={toggleFavorites}\n                cart={cart} onCart={toggleCart}\n                key={good['Артикул']} />)}\n        </>\n        : <h2 className='not_found'>Ничего не найдено. Попробуйте изменить условия фильтрации</h2>\n\n\n    function toggleFavorites(artcl) {\n        let newFavorites = []\n        if(favorites.includes(artcl)) {\n            newFavorites = favorites.filter(goodArticle => goodArticle !== artcl)\n        }\n        else {\n            newFavorites = [...favorites, artcl]\n        }\n        localStorage.setItem('favorites', JSON.stringify(newFavorites))\n        setFavorites(newFavorites)\n    }\n\n    function toggleCart(artcl) {\n        let newCart = []\n        if(cart.includes(artcl)) {\n            newCart = cart.filter(goodArticle => goodArticle !== artcl)\n        }\n        else {\n            newCart = [...cart, artcl]\n        }\n        localStorage.setItem('cart', JSON.stringify(newCart))\n        setCart(newCart)\n    }\n\n    function isHasSocket(good) {\n        if(category !== '6') {\n            return good['Сокет'] === socket\n        }\n        else {\n            if(good['Сокет']) {\n                if(good['Сокет'].includes(',')) {\n                    let arrSockets = good['Сокет'].split(',')\n                    arrSockets = arrSockets.map(item => item.trim())\n                    return arrSockets.includes(socket)\n                }\n                else {\n                    return good['Сокет'] === socket\n                }\n            }\n        }\n    }\n\n    function isHasFrequency(good) {\n        const freq = Number(good['Частота ядра'])\n\n        switch(cpuFrequency) {\n            case 'Ниже 2 ГГц':\n                return freq < 2\n            case '2-2.4 ГГц':\n                return freq >= 2 && freq < 2.5\n            case '2.5-2.9 ГГЦ':\n                return freq >= 2.5 && freq < 3\n            case 'От 3 ГГЦ и выше':\n                return freq >= 3\n            default:\n                break\n        }\n    }\n\n    function isHasFSB(good) {\n        if(good['Частота системной шины'].includes('/')) {\n            return good['Частота системной шины'].split('/').includes(fsbVar)\n        }\n        else {\n            return good['Частота системной шины'] === fsbVar\n        }\n    }\n\n\n    function isHasRAMSize(good) {\n        if(good['Объем ОЗУ'].includes('x')) {\n            const size = good['Объем ОЗУ'][0] + ' x ' + good['Объем ОЗУ'][2] + ' ГБ'\n            return size === ramSize\n        }\n        else {\n            return good['Объем ОЗУ'] === ramSize\n        }\n    }\n\n    function isHasRAMFraq(good) {\n        if(good['Частота ОЗУ'].includes('/')) {\n            return good['Частота ОЗУ'].split('/').includes(ramFraq)\n        }\n        else {\n            return good['Частота ОЗУ'] === ramFraq\n        }\n    }\n\n    function isHasHDDInterface(good) {\n        if(good['Тип HDD-интерфейса'].includes('/')) {\n            return good['Тип HDD-интерфейса'].split('/').includes(hddInterface)\n        }\n        else {\n            return good['Тип HDD-интерфейса'] === hddInterface\n        }\n    }\n}\n\nexport default TiserList\n"]},"metadata":{},"sourceType":"module"}