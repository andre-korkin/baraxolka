{"ast":null,"code":"var _jsxFileName = \"/home/andre/baraxolka/src/pages/home.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport Header from '../header';\nimport Categories from '../main/content/categories';\nimport Path from '../main/content/path';\nimport BeforeContent from '../beforeContent';\nimport Main from '../main';\nimport Footer from '../footer';\nimport goods from '../db/goods';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Home(_ref) {\n  _s();\n\n  let {\n    match\n  } = _ref;\n  const [goodsFromDB, setGoodsFromDb] = useState();\n  useEffect(() => goods.then(data => setGoodsFromDb(data)), []);\n  const catLabelInit = match.params.catLabel;\n  console.log(catLabelInit);\n\n  const catInit = () => {\n    if (catLabelInit === undefined) return undefined;else {\n      switch (catLabelInit.toLowerCase()) {\n        case 'cpu':\n          return '0';\n\n        case 'mb':\n          return '1';\n\n        case 'ram':\n          return '2';\n\n        case 'vc':\n          return '3';\n\n        case 'hdd':\n          return '4';\n\n        case 'bp':\n          return '5';\n\n        case 'cool':\n          return '6';\n\n        case 'set':\n          return '7';\n\n        case 'comp':\n          return '8';\n\n        default:\n          return undefined;\n      }\n    }\n  };\n\n  console.log(catInit());\n  const [category, setCategory] = useState();\n  console.log(category);\n  useEffect(() => setCategory(catInit()), [catLabelInit]);\n  const [search, setSearch] = useState('');\n  const [isFavorites, setIsFavorites] = useState(false);\n  const [isSorting, setIsSorting] = useState(false);\n  const dataFilters = {\n    condition: {\n      name: 'Состояние',\n      value: 'Все'\n    },\n    typeCooler: {\n      name: 'Тип кулеров',\n      value: 'Все'\n    },\n    socket: {\n      name: 'Сокет',\n      value: 'Все'\n    },\n    core: {\n      name: 'Количество ядер',\n      value: 'Все'\n    },\n    cpuFrequency: {\n      name: 'Частота',\n      value: 'Все'\n    },\n    fsb: {\n      name: 'Частота шины',\n      value: 'Все'\n    },\n    tdp: {\n      name: 'Мощность тепловыделения',\n      value: 'Все'\n    },\n    ramType: {\n      name: 'Тип ОЗУ',\n      value: 'Все'\n    },\n    ramSize: {\n      name: 'Объем ОЗУ',\n      value: 'Все'\n    },\n    ramFraq: {\n      name: 'Частота ОЗУ',\n      value: 'Все'\n    },\n    videoInterface: {\n      name: 'Тип видео-интерфейса',\n      value: 'Все'\n    },\n    hddInterface: {\n      name: 'Тип HDD-интерфейса',\n      value: 'Все'\n    },\n    platform: {\n      name: 'Платформа',\n      value: 'Все'\n    },\n    videoBitrate: {\n      name: 'Разрядность шины',\n      value: 'Все'\n    },\n    hddType: {\n      name: 'Тип накопителя',\n      value: 'Все'\n    },\n    hddSize: {\n      name: 'Объем накопителя',\n      value: 'Все'\n    },\n    bpPower: {\n      name: 'Мощность',\n      value: 'Все'\n    }\n  };\n  const [filters, setFilters] = useState(dataFilters);\n  !localStorage.getItem('cart') && localStorage.setItem('cart', JSON.stringify([]));\n  !localStorage.getItem('favorites') && localStorage.setItem('favorites', JSON.stringify([]));\n  const [favorites, setFavorites] = useState(JSON.parse(localStorage.getItem('favorites')));\n  const [cart, setCart] = useState(JSON.parse(localStorage.getItem('cart')));\n  const goodArticle = match.params.goodArticle;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [!goodArticle && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        page: '/'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Categories, {\n        category: category,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(BeforeContent, {\n        search: search,\n        onSearch: handleSearch,\n        isFavorites: isFavorites,\n        onFavorites: handleFavorites,\n        isSorting: isSorting,\n        onSorting: handleSorting\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Main, {\n        page: '/',\n        search: search,\n        isFavorites: isFavorites,\n        isSorting: isSorting,\n        favorites: favorites,\n        onFavorites: toggleFavorites,\n        cart: cart,\n        onCart: toggleCart,\n        category: category,\n        onSelect: handleSelect,\n        goodsFromDB: goodsFromDB,\n        filters: filters\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true), catLabelInit && goodArticle && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        page: ''\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Path, {\n        page: '',\n        category: category\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Main, {\n        page: '',\n        category: category,\n        goodArticle: goodArticle,\n        goodsFromDB: goodsFromDB,\n        favorites: favorites,\n        onFavorites: toggleFavorites,\n        cart: cart,\n        onCart: toggleCart\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 9\n  }, this);\n\n  function handleChange(artcl) {\n    setCategory(artcl);\n    setSearch('');\n    setIsFavorites(false);\n    setFilters(dataFilters);\n  }\n\n  function handleSearch(event) {\n    setSearch(event.target.value);\n    setCategory(undefined);\n    setIsFavorites(false);\n    setFilters(dataFilters);\n  }\n\n  function handleFavorites() {\n    setIsFavorites(!isFavorites);\n    setCategory(undefined);\n    setSearch('');\n    setFilters(dataFilters);\n  }\n\n  function handleSorting() {\n    setIsSorting(!isSorting);\n  }\n\n  function handleSelect(filter, filterName, variant) {\n    if (filter === 'typeCooler' && variant === 'Корпусной') {\n      setFilters({ ...filters,\n        socket: {\n          name: 'Сокет',\n          value: 'Все'\n        },\n        typeCooler: {\n          name: 'Тип кулеров',\n          value: variant\n        }\n      });\n    } else {\n      setFilters({ ...filters,\n        [filter]: {\n          name: filterName,\n          value: variant\n        }\n      });\n    }\n  }\n\n  function toggleFavorites(artcl) {\n    let newFavorites = [];\n\n    if (favorites.includes(artcl)) {\n      newFavorites = favorites.filter(goodArticle => goodArticle !== artcl);\n    } else {\n      newFavorites = [...favorites, artcl];\n    }\n\n    localStorage.setItem('favorites', JSON.stringify(newFavorites));\n    setFavorites(newFavorites);\n  }\n\n  function toggleCart(artcl) {\n    let newCart = [];\n\n    if (cart.includes(artcl)) {\n      newCart = cart.filter(goodArticle => goodArticle !== artcl);\n    } else {\n      newCart = [...cart, artcl];\n    }\n\n    localStorage.setItem('cart', JSON.stringify(newCart));\n    setCart(newCart);\n  }\n}\n\n_s(Home, \"Uj/xV9DlOhv+J8Y4boLyxfsnT0k=\");\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["/home/andre/baraxolka/src/pages/home.jsx"],"names":["React","useState","useEffect","Header","Categories","Path","BeforeContent","Main","Footer","goods","Home","match","goodsFromDB","setGoodsFromDb","then","data","catLabelInit","params","catLabel","console","log","catInit","undefined","toLowerCase","category","setCategory","search","setSearch","isFavorites","setIsFavorites","isSorting","setIsSorting","dataFilters","condition","name","value","typeCooler","socket","core","cpuFrequency","fsb","tdp","ramType","ramSize","ramFraq","videoInterface","hddInterface","platform","videoBitrate","hddType","hddSize","bpPower","filters","setFilters","localStorage","getItem","setItem","JSON","stringify","favorites","setFavorites","parse","cart","setCart","goodArticle","handleChange","handleSearch","handleFavorites","handleSorting","toggleFavorites","toggleCart","handleSelect","artcl","event","target","filter","filterName","variant","newFavorites","includes","newCart"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport Header from '../header'\nimport Categories from '../main/content/categories'\nimport Path from '../main/content/path'\nimport BeforeContent from '../beforeContent'\nimport Main from '../main'\nimport Footer from '../footer'\nimport goods from '../db/goods'\n\n\nfunction Home({ match }) {\n    const [goodsFromDB, setGoodsFromDb] = useState()\n    useEffect(() => goods.then(data => setGoodsFromDb(data)), [])\n\n    const catLabelInit = match.params.catLabel\n    console.log(catLabelInit)\n\n    const catInit = () => {\n        if(catLabelInit === undefined) return undefined\n        else {\n            switch(catLabelInit.toLowerCase()) {\n                case 'cpu':\n                    return '0'\n                case 'mb':\n                    return '1'\n                case 'ram':\n                    return '2'\n                case 'vc':\n                    return '3'\n                case 'hdd':\n                    return '4'\n                case 'bp':\n                    return '5'\n                case 'cool':\n                    return '6'\n                case 'set':\n                    return '7'\n                case 'comp':\n                    return '8'\n                default:\n                    return undefined\n            }\n        }\n    }\n    console.log(catInit())\n\n    const [category, setCategory] = useState()\n    console.log(category)\n    useEffect(() => setCategory(catInit()), [catLabelInit])\n\n    const [search, setSearch] = useState('')\n    const [isFavorites, setIsFavorites] = useState(false)\n    const [isSorting, setIsSorting] = useState(false)\n\n    const dataFilters = {\n        condition: {name: 'Состояние', value: 'Все'},\n        typeCooler: {name: 'Тип кулеров', value: 'Все'},\n        socket: {name: 'Сокет', value: 'Все'},\n        core: {name: 'Количество ядер', value: 'Все'},\n        cpuFrequency: {name: 'Частота', value: 'Все'},\n        fsb: {name: 'Частота шины', value: 'Все'},\n        tdp: {name: 'Мощность тепловыделения', value: 'Все'},\n        ramType: {name: 'Тип ОЗУ', value: 'Все'},\n        ramSize: {name: 'Объем ОЗУ', value: 'Все'},\n        ramFraq: {name: 'Частота ОЗУ', value: 'Все'},\n        videoInterface: {name: 'Тип видео-интерфейса', value: 'Все'},\n        hddInterface: {name: 'Тип HDD-интерфейса', value: 'Все'},\n        platform: {name: 'Платформа', value: 'Все'},\n        videoBitrate: {name: 'Разрядность шины', value: 'Все'},\n        hddType: {name: 'Тип накопителя', value: 'Все'},\n        hddSize: {name: 'Объем накопителя', value: 'Все'},\n        bpPower: {name: 'Мощность', value: 'Все'}\n    }\n\n    const [filters, setFilters] = useState(dataFilters)\n\n    !localStorage.getItem('cart') && localStorage.setItem('cart', JSON.stringify([]))\n    !localStorage.getItem('favorites') && localStorage.setItem('favorites', JSON.stringify([]))\n\n    const [favorites, setFavorites] = useState(JSON.parse(localStorage.getItem('favorites')))\n    const [cart, setCart] = useState(JSON.parse(localStorage.getItem('cart')))\n\n    const goodArticle = match.params.goodArticle\n\n    return (\n        <div className=\"container\">\n            {!goodArticle && <>\n                <Header page={'/'} />\n                <Categories category={category} onChange={handleChange} />\n                <BeforeContent search={search} onSearch={handleSearch}\n                    isFavorites={isFavorites} onFavorites={handleFavorites}\n                    isSorting={isSorting} onSorting={handleSorting} />\n                <Main page={'/'} search={search} isFavorites={isFavorites} isSorting={isSorting}\n                    favorites={favorites} onFavorites={toggleFavorites} cart={cart} onCart={toggleCart}\n                    category={category} onSelect={handleSelect} goodsFromDB={goodsFromDB} filters={filters} />\n            </>}\n            {catLabelInit && goodArticle && <>\n                <Header page={''} />\n                <Path page={''} category={category} />\n                <Main page={''} category={category} goodArticle={goodArticle} goodsFromDB={goodsFromDB}\n                    favorites={favorites} onFavorites={toggleFavorites} cart={cart} onCart={toggleCart} />\n            </>}\n            <Footer />\n        </div>\n    )\n\n\n    function handleChange(artcl) {\n        setCategory(artcl)\n        setSearch('')\n        setIsFavorites(false)\n        setFilters(dataFilters)\n    }\n\n    function handleSearch(event) {\n        setSearch(event.target.value)\n        setCategory(undefined)\n        setIsFavorites(false)\n        setFilters(dataFilters)\n    }\n\n    function handleFavorites() {\n        setIsFavorites(!isFavorites)\n        setCategory(undefined)\n        setSearch('')\n        setFilters(dataFilters)\n    }\n\n    function handleSorting() {\n        setIsSorting(!isSorting)\n    }\n\n    function handleSelect(filter, filterName, variant) {\n        if(filter === 'typeCooler' && variant === 'Корпусной') {\n            setFilters({...filters, socket: {name: 'Сокет', value: 'Все'}, typeCooler: {name: 'Тип кулеров', value: variant}})\n        }\n        else {\n            setFilters({...filters, [filter]: {name: filterName, value: variant}})\n        }\n    }\n\n    function toggleFavorites(artcl) {\n        let newFavorites = []\n        if(favorites.includes(artcl)) {\n            newFavorites = favorites.filter(goodArticle => goodArticle !== artcl)\n        }\n        else {\n            newFavorites = [...favorites, artcl]\n        }\n        localStorage.setItem('favorites', JSON.stringify(newFavorites))\n        setFavorites(newFavorites)\n    }\n\n    function toggleCart(artcl) {\n        let newCart = []\n        if(cart.includes(artcl)) {\n            newCart = cart.filter(goodArticle => goodArticle !== artcl)\n        }\n        else {\n            newCart = [...cart, artcl]\n        }\n        localStorage.setItem('cart', JSON.stringify(newCart))\n        setCart(newCart)\n    }\n}\n\nexport default Home\n"]},"metadata":{},"sourceType":"module"}