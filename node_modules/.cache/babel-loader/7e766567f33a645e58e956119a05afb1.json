{"ast":null,"code":"var _jsxFileName = \"/home/andre/baraxolka/src/main/content/index/tiserList.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport Pagination from '../pagination';\nimport Tiser from './tiser';\nimport _ from 'lodash';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst TiserList = _ref => {\n  _s();\n\n  let {\n    goodsFromDB,\n    category,\n    onChange,\n    search,\n    isFavorites,\n    favorites,\n    onFavorites,\n    cart,\n    onCart,\n    isSorting,\n    filters\n  } = _ref;\n  const [currentPage, setCurrentPage] = useState(1);\n  useEffect(() => setCurrentPage(1), [category]);\n  if (goodsFromDB === undefined) return /*#__PURE__*/_jsxDEV(\"h2\", {\n    className: \"not_found\",\n    children: \"\\u041F\\u043E\\u043B\\u0443\\u0447\\u0435\\u043D\\u0438\\u0435 \\u0441\\u043F\\u0438\\u0441\\u043A\\u0430 \\u0442\\u043E\\u0432\\u0430\\u0440\\u043E\\u0432...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 11,\n    columnNumber: 42\n  }, this);\n  let goodList = goodsFromDB || [];\n  if (typeof goodList === 'string') return /*#__PURE__*/_jsxDEV(\"h2\", {\n    className: \"not_found\",\n    children: goodList\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 14,\n    columnNumber: 45\n  }, this);\n  goodList = goodList.filter(good => good['Количество'] !== '0');\n  goodList = category ? goodList.filter(good => good['Артикул'][0] === category) : goodList;\n  goodList = search ? goodList.filter(good => good['Название'] && good['Название'].toLowerCase().includes(search.toLowerCase()) || good['Бренд'] && good['Бренд'].toLocaleLowerCase().includes(search.toLocaleLowerCase())) : goodList;\n  goodList = isFavorites ? goodList.filter(good => favorites.includes(good['Артикул'])) : goodList;\n  goodList = filters.condition.value !== 'Все' ? goodList.filter(good => good['Состояние'] === filters.condition.value) : goodList;\n\n  if (category === '6') {\n    if (filters.typeCooler.value === 'Процессорный') {\n      goodList = goodList.filter(good => good['Сокет']);\n    } else if (filters.typeCooler.value === 'Корпусной') {\n      goodList = goodList.filter(good => !good['Сокет']);\n    }\n  }\n\n  if (['0', '1', '6', '7', '8'].includes(category)) {\n    goodList = filters.socket.value !== 'Все' ? goodList.filter(good => isHasSocket(good)) : goodList;\n  }\n\n  if (category === '0') {\n    goodList = filters.core.value !== 'Все' ? goodList.filter(good => good['Ядер\\\\потоков'].split('/')[0] === filters.core.value) : goodList;\n    goodList = filters.cpuFrequency.value !== 'Все' ? goodList.filter(good => isHasFrequency(good)) : goodList;\n    goodList = filters.tdp.value !== 'Все' ? goodList.filter(good => Number(good['Мощность тепловыделения']) === filters.tdp.value) : goodList;\n  }\n\n  if (['0', '1'].includes(category)) {\n    goodList = filters.fsb.value !== 'Все' ? goodList.filter(good => isHasFSB(good)) : goodList;\n  }\n\n  if (['2', '4'].includes(category)) {\n    goodList = filters.platform.value !== 'Все' ? goodList.filter(good => good['Платформа'] === filters.platform.value) : goodList;\n  }\n\n  if (['1', '2', '3'].includes(category)) {\n    goodList = filters.ramType.value !== 'Все' ? goodList.filter(good => good['Тип ОЗУ'] === filters.ramType.value) : goodList;\n    goodList = filters.ramSize.value !== 'Все' ? goodList.filter(good => isHasRAMSize(good)) : goodList;\n  }\n\n  if (['1', '2'].includes(category)) {\n    goodList = filters.ramFraq.value !== 'Все' ? goodList.filter(good => isHasRAMFraq(good)) : goodList;\n  }\n\n  if (['1', '3'].includes(category)) {\n    goodList = filters.videoInterface.value !== 'Все' ? goodList.filter(good => good['Тип видео-интерфейса'] === filters.videoInterface.value) : goodList;\n  }\n\n  if (['1', '4'].includes(category)) {\n    goodList = filters.hddInterface.value !== 'Все' ? goodList.filter(good => isHasHDDInterface(good)) : goodList;\n  }\n\n  if (category === '3') {\n    goodList = filters.videoBitrate.value !== 'Все' ? goodList.filter(good => good['Разрядность шины'] === filters.videoBitrate.value) : goodList;\n  }\n\n  if (category === '4') {\n    goodList = filters.hddType.value !== 'Все' ? goodList.filter(good => good['Тип накопителя'] === filters.hddType.value) : goodList;\n    goodList = filters.hddSize.value !== 'Все' ? goodList.filter(good => good['Объем'] === filters.hddSize.value) : goodList;\n  }\n\n  if (category === '5') {\n    goodList = filters.bpPower.value !== 'Все' ? goodList.filter(good => good['Мощность'] === filters.bpPower.value) : goodList;\n  }\n\n  goodList = goodList.map(good => {\n    return { ...good,\n      'Цена': Number(good['Цена'])\n    };\n  });\n  const sortPriceGoodList = isSorting ? _.orderBy(goodList, ['Цена'], ['asc']) : goodList;\n  const allNumberPage = goodList && Math.ceil(goodList.length / 12);\n  const currentGoodList = goodList && sortPriceGoodList.slice((currentPage - 1) * 12, currentPage * 12);\n  return currentGoodList.length !== 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [currentGoodList.map(good => /*#__PURE__*/_jsxDEV(Tiser, {\n      data: good,\n      favorites: favorites,\n      onFavorites: onFavorites,\n      cart: cart,\n      onCart: onCart,\n      onChange: onChange\n    }, good['Артикул'], false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 42\n    }, this)), allNumberPage > 1 && /*#__PURE__*/_jsxDEV(Pagination, {\n      current: currentPage,\n      all: allNumberPage,\n      onPage: handleChangePage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 35\n    }, this)]\n  }, void 0, true) : /*#__PURE__*/_jsxDEV(\"h2\", {\n    className: \"not_found\",\n    children: [\"\\u041D\\u0438\\u0447\\u0435\\u0433\\u043E \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\\u043E.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 55\n    }, this), \"\\u041F\\u043E\\u043F\\u0440\\u043E\\u0431\\u0443\\u0439\\u0442\\u0435 \\u0438\\u0437\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C \\u0443\\u0441\\u043B\\u043E\\u0432\\u0438\\u044F \\u0444\\u0438\\u043B\\u044C\\u0442\\u0440\\u0430\\u0446\\u0438\\u0438.\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 101,\n    columnNumber: 11\n  }, this);\n\n  function isHasSocket(good) {\n    if (category !== '6') {\n      return good['Сокет'] === filters.socket.value;\n    } else {\n      if (good['Сокет']) {\n        if (good['Сокет'].includes('/')) {\n          let arrSockets = good['Сокет'].split('/');\n          arrSockets = arrSockets.map(item => item.trim());\n          return arrSockets.includes(filters.socket.value);\n        } else {\n          return good['Сокет'] === filters.socket.value;\n        }\n      }\n    }\n  }\n\n  function isHasFrequency(good) {\n    const freq = Number(good['Частота ядра']);\n\n    switch (filters.cpuFrequency.value) {\n      case 'Ниже 2 ГГц':\n        return freq < 2;\n\n      case '2-2.4 ГГц':\n        return freq >= 2 && freq < 2.5;\n\n      case '2.5-2.9 ГГЦ':\n        return freq >= 2.5 && freq < 3;\n\n      case 'От 3 ГГЦ и выше':\n        return freq >= 3;\n\n      default:\n        break;\n    }\n  }\n\n  function isHasFSB(good) {\n    if (good['Частота системной шины'].includes('/')) {\n      return good['Частота системной шины'].split('/').includes(filters.fsb.value);\n    } else {\n      return good['Частота системной шины'] === filters.fsb.value;\n    }\n  }\n\n  function isHasRAMSize(good) {\n    if (good['Объем ОЗУ'].includes('x')) {\n      const size = good['Объем ОЗУ'][0] + ' x ' + good['Объем ОЗУ'][2] + ' ГБ';\n      return size === filters.ramSize.value;\n    } else {\n      return good['Объем ОЗУ'] === filters.ramSize.value;\n    }\n  }\n\n  function isHasRAMFraq(good) {\n    if (good['Частота ОЗУ'].includes('/')) {\n      return good['Частота ОЗУ'].split('/').includes(filters.ramFraq.value);\n    } else {\n      return good['Частота ОЗУ'] === filters.ramFraq.value;\n    }\n  }\n\n  function isHasHDDInterface(good) {\n    if (good['Тип HDD-интерфейса'].includes('/')) {\n      return good['Тип HDD-интерфейса'].split('/').includes(filters.hddInterface.value);\n    } else {\n      return good['Тип HDD-интерфейса'] === filters.hddInterface.value;\n    }\n  }\n\n  function handleChangePage(numberPage) {\n    setCurrentPage(numberPage);\n  }\n};\n\n_s(TiserList, \"GDYsIxij9y/ZFL42bMqqthZmeP4=\");\n\n_c = TiserList;\nexport default TiserList;\n\nvar _c;\n\n$RefreshReg$(_c, \"TiserList\");","map":{"version":3,"sources":["/home/andre/baraxolka/src/main/content/index/tiserList.jsx"],"names":["React","useState","useEffect","Pagination","Tiser","_","TiserList","goodsFromDB","category","onChange","search","isFavorites","favorites","onFavorites","cart","onCart","isSorting","filters","currentPage","setCurrentPage","undefined","goodList","filter","good","toLowerCase","includes","toLocaleLowerCase","condition","value","typeCooler","socket","isHasSocket","core","split","cpuFrequency","isHasFrequency","tdp","Number","fsb","isHasFSB","platform","ramType","ramSize","isHasRAMSize","ramFraq","isHasRAMFraq","videoInterface","hddInterface","isHasHDDInterface","videoBitrate","hddType","hddSize","bpPower","map","sortPriceGoodList","orderBy","allNumberPage","Math","ceil","length","currentGoodList","slice","handleChangePage","arrSockets","item","trim","freq","size","numberPage"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport Pagination from '../pagination'\nimport Tiser from './tiser'\nimport _ from 'lodash'\n\n\nconst TiserList = ({ goodsFromDB, category, onChange, search, isFavorites, favorites, onFavorites, cart, onCart, isSorting, filters }) => {\n    const [currentPage, setCurrentPage] = useState(1)\n    useEffect(() => setCurrentPage(1), [category])\n\n    if(goodsFromDB === undefined) return <h2 className='not_found'>Получение списка товаров...</h2>\n\n    let goodList = goodsFromDB || []\n    if(typeof goodList === 'string') return <h2 className='not_found'>{goodList}</h2>\n\n    goodList = goodList.filter(good => good['Количество'] !== '0')\n\n    goodList = category ? goodList.filter(good => good['Артикул'][0] === category) : goodList\n    \n    goodList = search ? goodList.filter(good => (good['Название'] && good['Название'].toLowerCase().includes(search.toLowerCase()))\n        || (good['Бренд'] && good['Бренд'].toLocaleLowerCase().includes(search.toLocaleLowerCase()))) : goodList\n\n    goodList = isFavorites ? goodList.filter(good => favorites.includes(good['Артикул'])) : goodList\n\n    goodList = filters.condition.value !== 'Все' ? goodList.filter(good => good['Состояние'] === filters.condition.value) : goodList\n\n    if(category === '6') {\n        if(filters.typeCooler.value === 'Процессорный') {\n            goodList = goodList.filter(good => good['Сокет'])\n        }\n        else if(filters.typeCooler.value === 'Корпусной') {\n            goodList = goodList.filter(good => !good['Сокет'])\n        }\n    }\n\n    if(['0', '1', '6', '7', '8'].includes(category)) {\n        goodList = filters.socket.value !== 'Все' ? goodList.filter(good => isHasSocket(good)) : goodList\n    }\n\n    if(category === '0') {\n        goodList = filters.core.value !== 'Все' ? goodList.filter(good => good['Ядер\\\\потоков'].split('/')[0] === filters.core.value) : goodList\n        goodList = filters.cpuFrequency.value !== 'Все' ? goodList.filter(good => isHasFrequency(good)) : goodList\n        goodList = filters.tdp.value !== 'Все' ? goodList.filter(good => Number(good['Мощность тепловыделения']) === filters.tdp.value) : goodList\n    }\n\n    if(['0', '1'].includes(category)) {\n        goodList = filters.fsb.value !== 'Все' ? goodList.filter(good => isHasFSB(good)) : goodList\n    }\n\n    if(['2', '4'].includes(category)) {\n        goodList = filters.platform.value !== 'Все' ? goodList.filter(good => good['Платформа'] === filters.platform.value) : goodList\n    }\n\n    if(['1', '2', '3'].includes(category)) {\n        goodList = filters.ramType.value !== 'Все' ? goodList.filter(good => good['Тип ОЗУ'] === filters.ramType.value) : goodList\n        goodList = filters.ramSize.value !== 'Все' ? goodList.filter(good => isHasRAMSize(good)) : goodList\n    }\n\n    if(['1', '2'].includes(category)) {\n        goodList = filters.ramFraq.value !== 'Все' ? goodList.filter(good => isHasRAMFraq(good)) : goodList\n    }\n\n    if(['1', '3'].includes(category)) {\n        goodList = filters.videoInterface.value !== 'Все' ? goodList.filter(good => good['Тип видео-интерфейса'] === filters.videoInterface.value) : goodList\n    }\n\n    if(['1', '4'].includes(category)) {\n        goodList = filters.hddInterface.value !== 'Все' ? goodList.filter(good => isHasHDDInterface(good)) : goodList\n    }\n\n    if(category === '3') {\n        goodList = filters.videoBitrate.value !== 'Все' ? goodList.filter(good => good['Разрядность шины'] === filters.videoBitrate.value) : goodList\n    }\n\n    if(category === '4') {\n        goodList = filters.hddType.value !== 'Все' ? goodList.filter(good => good['Тип накопителя'] === filters.hddType.value) : goodList\n        goodList = filters.hddSize.value !== 'Все' ? goodList.filter(good => good['Объем'] === filters.hddSize.value) : goodList\n    }\n\n    if(category === '5') {\n        goodList = filters.bpPower.value !== 'Все' ? goodList.filter(good => good['Мощность'] === filters.bpPower.value) : goodList\n    }\n\n    goodList = goodList.map(good => {\n        return {...good, 'Цена': Number(good['Цена'])}\n    })\n    const sortPriceGoodList = isSorting ? _.orderBy(goodList, ['Цена'], ['asc']) : goodList\n\n    const allNumberPage = goodList && Math.ceil(goodList.length / 12)\n    const currentGoodList = goodList && sortPriceGoodList.slice((currentPage - 1) * 12, currentPage * 12)\n\n\n    return currentGoodList.length !== 0\n        ? <>\n            {currentGoodList.map(good => <Tiser data={good}\n                favorites={favorites} onFavorites={onFavorites}\n                cart={cart} onCart={onCart} onChange={onChange}\n                key={good['Артикул']} />)}\n            {allNumberPage > 1 && <Pagination current={currentPage} all={allNumberPage} onPage={handleChangePage} />}\n        </>\n        : <h2 className='not_found'>Ничего не найдено.<br/>Попробуйте изменить условия фильтрации.</h2>\n\n    function isHasSocket(good) {\n        if(category !== '6') {\n            return good['Сокет'] === filters.socket.value\n        }\n        else {\n            if(good['Сокет']) {\n                if(good['Сокет'].includes('/')) {\n                    let arrSockets = good['Сокет'].split('/')\n                    arrSockets = arrSockets.map(item => item.trim())\n                    return arrSockets.includes(filters.socket.value)\n                }\n                else {\n                    return good['Сокет'] === filters.socket.value\n                }\n            }\n        }\n    }\n\n    function isHasFrequency(good) {\n        const freq = Number(good['Частота ядра'])\n\n        switch(filters.cpuFrequency.value) {\n            case 'Ниже 2 ГГц':\n                return freq < 2\n            case '2-2.4 ГГц':\n                return freq >= 2 && freq < 2.5\n            case '2.5-2.9 ГГЦ':\n                return freq >= 2.5 && freq < 3\n            case 'От 3 ГГЦ и выше':\n                return freq >= 3\n            default:\n                break\n        }\n    }\n\n    function isHasFSB(good) {\n        if(good['Частота системной шины'].includes('/')) {\n            return good['Частота системной шины'].split('/').includes(filters.fsb.value)\n        }\n        else {\n            return good['Частота системной шины'] === filters.fsb.value\n        }\n    }\n\n\n    function isHasRAMSize(good) {\n        if(good['Объем ОЗУ'].includes('x')) {\n            const size = good['Объем ОЗУ'][0] + ' x ' + good['Объем ОЗУ'][2] + ' ГБ'\n            return size === filters.ramSize.value\n        }\n        else {\n            return good['Объем ОЗУ'] === filters.ramSize.value\n        }\n    }\n\n    function isHasRAMFraq(good) {\n        if(good['Частота ОЗУ'].includes('/')) {\n            return good['Частота ОЗУ'].split('/').includes(filters.ramFraq.value)\n        }\n        else {\n            return good['Частота ОЗУ'] === filters.ramFraq.value\n        }\n    }\n\n    function isHasHDDInterface(good) {\n        if(good['Тип HDD-интерфейса'].includes('/')) {\n            return good['Тип HDD-интерфейса'].split('/').includes(filters.hddInterface.value)\n        }\n        else {\n            return good['Тип HDD-интерфейса'] === filters.hddInterface.value\n        }\n    }\n\n    function handleChangePage(numberPage) {\n        setCurrentPage(numberPage)\n    }\n}\n\nexport default TiserList\n"]},"metadata":{},"sourceType":"module"}